

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" sizes="16x16" type="image/png" href="../../_static/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Using services &mdash; App Development Documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme_zeiss.css?v=dc6cf2b8" />

  
    <link rel="canonical" href="https://zeissiqs.github.io/zeiss-inspect-addon-api/2025/howtos/using_services/using_services.html" />
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Using scripted diagrams" href="../using_scripted_diagrams/using_scripted_diagrams.html" />
    <link rel="prev" title="Adding workspaces to Apps" href="../adding_workspaces_to_apps/adding_workspaces_to_apps.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            App Development Documentation
              <img src="../../_static/zeiss-logo-rgb.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../news/news.html">What’s New</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">How-to Guides</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../python_api_introduction/python_api_introduction.html">ZEISS INSPECT Python API Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python_api_introduction/selecting_elements.html">Selecting elements in scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_app_editor/using_app_editor.html">Using the App Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../app_file_format/app_file_format.html">App file format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../app_documentation/app_documentation.html">Documenting Apps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_vscode_editor/using_vscode_editor.html">Using Visual Studio Code as an App editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python_api_introduction/file_selection_dialog.html">Selecting a file or folder</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python_api_introduction/user_defined_dialogs.html">User-defined Dialogs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python_api_introduction/creating_wizard_dialogs.html">Creating wizard dialogs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_gui_libraries/using_gui_libraries.html">Using an additional Python GUI library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripted_elements/scripted_elements_toc.html">Scripted elements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python_api_introduction/using_script_resources.html">Using script resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stages/stages.html">Working with stages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project_keywords/project_keywords.html">Project keywords handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_shared_environments/using_shared_environments.html">Using shared environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_wheelhouses/using_wheelhouses.html">Using Python wheelhouses</a></li>
<li class="toctree-l1"><a class="reference internal" href="../adding_workspaces_to_apps/adding_workspaces_to_apps.html">Adding workspaces to Apps</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Using services</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#service-definition">Service definition</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#syntax">Syntax</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#service-scripts">Service scripts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#calling-services">Calling services</a></li>
<li class="toctree-l2"><a class="reference internal" href="#managing-services">Managing services</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#service-registration">Service registration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#service-autostart">Service autostart</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#logging">Logging</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#adding-log-output-to-a-service">Adding log output to a service</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#service-api-documentation">Service API documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../using_scripted_diagrams/using_scripted_diagrams.html">Using scripted diagrams</a></li>
<li class="toctree-l1"><a class="reference internal" href="../localization/localization.html">Localization of Apps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../starting_options/starting_options.html">Software and script starting options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing_apps/testing_apps.html">Testing Apps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripting_legacy_projects/scripting_legacy_projects.html">Scripting with legacy projects (part-less)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripting_solutions/scripting_solutions.html">Scripting solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/faq.html">Frequently asked questions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Python API Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../python_examples/index.html">Introduction to the Python API Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python_examples/examples_overview.html">ZEISS INSPECT App Examples Overview</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Python API Specification</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../python_api/python_api.html">ZEISS INSPECT App Python API documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python_api/scripted_elements_api.html">Scripted elements API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python_api/resource_api.html">gom.Resource API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">App Development Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Using services</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <p><img alt="New in Version 2025" src="https://img.shields.io/badge/New-Version_2025-orange" /></p>
<section id="using-services">
<h1>Using services<a class="headerlink" href="#using-services" title="Link to this heading"></a></h1>
<blockquote>
<div><p>Abstract: A ZEISS INSPECT service is a Python script running continuously in the background, which exposes API functions to other scripts. Services can be distributed via Apps and can be used as computation kernels or callback targets. Services have been introduced in ZEISS INSPECT 2025.</p>
</div></blockquote>
<section id="service-definition">
<h2>Service definition<a class="headerlink" href="#service-definition" title="Link to this heading"></a></h2>
<p>Each service consists of a Python script file in an App. The App’s <code class="docutils literal notranslate"><span class="pre">metainfo.json</span></code> declares the script to be a service. Multiple services per App are allowed. Each of these services will be executed in its own separate Python interpreter process.</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">Services entry in metainfo.json</span><a class="headerlink" href="#id2" title="Link to this code"></a></div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...,</span>
<span class="w">    </span><span class="nt">&quot;services&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;endpoint&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;gom.api.math&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Multiplicator&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;script&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;multiplicator/service.py&quot;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;endpoint&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;gom.api.test&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Reflector&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;script&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;reflector/service.py&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<section id="syntax">
<h3>Syntax<a class="headerlink" href="#syntax" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Example</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>script</p></td>
<td><p>Service script, relative path whithin the App</p></td>
<td><p>“folder1/folder2/script.py”</p></td>
</tr>
<tr class="row-odd"><td><p>name</p></td>
<td><p>Human readable name of the service; will be displayed in<br>the Manage Services dialog</p></td>
<td><p>“My Useful Service”</p></td>
</tr>
<tr class="row-even"><td><p>endpoint</p></td>
<td><p>Service API endpoint where the service functions<br>will be accessible</p></td>
<td><p>“gom.api.meshing”</p></td>
</tr>
</tbody>
</table>
</section>
<section id="example">
<h3>Example<a class="headerlink" href="#example" title="Link to this heading"></a></h3>
<p><img alt="Services metainfo.json example" src="../../_images/services_metainfo.png" /></p>
<ul class="simple">
<li><p>An App called ‘Service Test’ defines two services in its <code class="docutils literal notranslate"><span class="pre">metainfo.json</span></code> file (1):</p>
<ul>
<li><p>A multiplicator service accessible via the API endpoint <code class="docutils literal notranslate"><span class="pre">gom.api.math</span></code> (2) and</p></li>
<li><p>A reflector service available at <code class="docutils literal notranslate"><span class="pre">gom.api.test</span></code> (3)</p></li>
</ul>
</li>
<li><p>Each service is associated with a script (4), (5).</p></li>
</ul>
</section>
</section>
<section id="service-scripts">
<h2>Service scripts<a class="headerlink" href="#service-scripts" title="Link to this heading"></a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Functions decorated as <code class="docutils literal notranslate"><span class="pre">&#64;apifunction</span></code> will be exported as the service API.</p>
</div>
<p>A service is a regular Python script file. Each function which shall be exported as a service API must be decorated with the <code class="docutils literal notranslate"><span class="pre">&#64;apifunction</span></code> decorator. The service must be started by calling <code class="docutils literal notranslate"><span class="pre">gom.run_api()</span></code> after all content has been declared.</p>
<section id="id1">
<h3>Example<a class="headerlink" href="#id1" title="Link to this heading"></a></h3>
<p><img alt="Service Python script" src="../../_images/service_script.png" /></p>
<ul class="simple">
<li><p>The script <code class="docutils literal notranslate"><span class="pre">service.py</span></code> implements the service and is referenced in the App’s <code class="docutils literal notranslate"><span class="pre">metainfo.json</span></code> file.</p></li>
<li><p>The function <code class="docutils literal notranslate"><span class="pre">multiply</span></code> will be available for other scripts and is therefore executed in this services process.</p></li>
<li><p>The call of <code class="docutils literal notranslate"><span class="pre">gom.run_api()</span></code>  starts the service. The call does not return as long as the service is running.</p></li>
</ul>
</section>
</section>
<section id="calling-services">
<h2>Calling services<a class="headerlink" href="#calling-services" title="Link to this heading"></a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A registered service can be used like any regular Python module.</p>
</div>
<p>For using a service, the following steps are required:</p>
<ul class="simple">
<li><p>Import the service by using its API endpoint name</p></li>
<li><p>Call the service function</p></li>
</ul>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">Example for calling a service</span><a class="headerlink" href="#id3" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">gom</span>
<span class="kn">import</span> <span class="nn">gom.api.math</span>
<span class="kn">import</span> <span class="nn">gom.api.test</span>
 
<span class="c1"># Call multiply function from service #1</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">gom</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">math</span><span class="o">.</span><span class="n">multiply</span> <span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
 
<span class="c1"># Call reflect function from service #2</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">gom</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">reflect</span><span class="p">({</span><span class="s1">&#39;test&#39;</span><span class="p">:</span> <span class="mi">123</span><span class="p">})</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Each service is running in a separate Python process. The communication works via a socket based protocol.
Currently the service has to run on the same machine as the application and can only be managed from there. In the future, this concept might be extended.</p>
</div>
</section>
<section id="managing-services">
<h2>Managing services<a class="headerlink" href="#managing-services" title="Link to this heading"></a></h2>
<p>You open the Manage Services dialog with Apps ► Manage Services… from the ZEISS INSPECT main menu.</p>
<p><img alt="Apps-&gt;Manage Services menu entry" src="../../_images/manage_services.png" /></p>
<p><img alt="Manage Services dialog" src="../../_images/manage_services_dialog.png" /></p>
<ul class="simple">
<li><p>The dialog shows the registered services (1) together with the service status.</p></li>
<li><p>When a service is selected, the persistent service log will be displayed (2).</p></li>
<li><p>The right mouse menu offers the options</p>
<ul>
<li><p>Restart Service,</p></li>
<li><p>Stop Service and</p></li>
<li><p>Update Services (rescan the App and script database for installed services).</p></li>
</ul>
</li>
</ul>
<section id="service-registration">
<h3>Service registration<a class="headerlink" href="#service-registration" title="Link to this heading"></a></h3>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Services provided in an App are registered immediately when the App is installed, but they are not started automatically!</p>
</div>
<p>When an App contains service definitions, the services are made available to the system as soon as the App is installed. Run ‘Update Services’ from the Manage Services dialog to register services from a newly created App. The services will be in <strong>STOPPED</strong> state until being started manually.</p>
</section>
<section id="service-autostart">
<h3>Service autostart<a class="headerlink" href="#service-autostart" title="Link to this heading"></a></h3>
<p>The autostart setting for each service can be changed in two ways:</p>
<ol class="arabic simple">
<li><p>After installation of an App, the user is prompted if the provided service shall be autostarted from now on:</p></li>
</ol>
<p><img alt="Autostart prompt after App installation" src="../../_images/service_autostart-1.png" /></p>
<ol class="arabic simple" start="2">
<li><p>After installation of an App, the autostart state of a service can be changed in the Manage Services dialog:</p></li>
</ol>
<p><img alt="Autostart configuration in the Manage Services dialog" src="../../_images/service_autostart-2.png" /></p>
</section>
</section>
<section id="logging">
<h2>Logging<a class="headerlink" href="#logging" title="Link to this heading"></a></h2>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Each service has a persistent log.</p>
</div>
<p>The current content can be displayed in the Manage Services dialog by selecting the desired service. The log can be cleared via RMB ► Delete Log File in the log output widget. By default, basic service events like startup/exit are logged.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>The service log files stored as <code class="docutils literal notranslate"><span class="pre">C:\ProgramData\gom\log\service-&lt;endpoint&gt;.log</span></code>, e.g. <code class="docutils literal notranslate"><span class="pre">service-gom-api-test.log</span></code>. You can copy the path using RMB ► Copy Log File Path To Clipboard.</p>
</div>
<section id="adding-log-output-to-a-service">
<h3>Adding log output to a service<a class="headerlink" href="#adding-log-output-to-a-service" title="Link to this heading"></a></h3>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Log output can be added by using the <code class="docutils literal notranslate"><span class="pre">gom.log</span></code> logger in the service script.</p>
</div>
<p>Messages from the logger will be forwarded into the service log file. The standard Python log levels can be used.</p>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">Logging example</span><a class="headerlink" href="#id4" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">gom</span>
 
<span class="n">gom</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span> <span class="p">(</span><span class="s1">&#39;Debugging message&#39;</span><span class="p">)</span>
<span class="n">gom</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span> <span class="p">(</span><span class="s1">&#39;Informational message&#39;</span><span class="p">)</span>
 
<span class="c1"># Same with &#39;warning&#39;, &#39;error&#39; and &#39;critical&#39;</span>
</pre></div>
</div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>See <a class="reference external" href="https://docs.python.org/3/howto/logging.html">Python Logging HOWTO</a> to learn more about logging in Python.</p>
</div>
</section>
</section>
<section id="service-api-documentation">
<h2>Service API documentation<a class="headerlink" href="#service-api-documentation" title="Link to this heading"></a></h2>
<p>See <a href="../../python_api/python_api.html#gom-api-services">gom.api.services</a></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../adding_workspaces_to_apps/adding_workspaces_to_apps.html" class="btn btn-neutral float-left" title="Adding workspaces to Apps" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../using_scripted_diagrams/using_scripted_diagrams.html" class="btn btn-neutral float-right" title="Using scripted diagrams" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Carl Zeiss GOM Metrology GmbH.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
  <p></p>
  <div class="footer">
    <a href="https://www.gom.com/en/imprint" target="_blank" rel="noopener noreferrer">Imprint</a>
  </div>
  <jinja2.runtime.BlockReference object at 0x7f179ea63e50>


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>